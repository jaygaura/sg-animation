$("#playBtn").on("click",function(){$("#pushpa canvas").show();var a=document.getElementById("c"),e=a.getContext("2d"),t=a.width=$("#pushpa").width(),n=a.height=$("#pushpa").height(),r=Math.PI/180,o=.2;e.strokeStyle="white",e.shadowBlur=5,e.shadowOffsetX=2,e.shadowOffsetY=2,e.shadowColor="#333",e.globalAlpha=.85;for(var i=["#930c37","#ea767a","#ee6133","#ecac43","#fb9983","#f9bc9f","#f8ed38","#a8e3f9","#d1f2fd","#ecd5f5","#fee4fd","#8520b4","#FA2E59","#FF703F","#FF703F","#F7BC05","#ECF6BB","#76BCAD"],h=[],c=0;c<64;c++)h[c]={},h[c].cx=1+~~(Math.random()*t),h[c].cy=1+~~(Math.random()*n),h[c].R=u(8,14),h[c].Ri=u(5,7)/10,h[c].k=u(5,10)/10,h[c].ki=u(2,7)/100,h[c].K=u(5,16)/10,h[c].fs=1+~~(Math.random()*i.length),h[c].cs=1+~~(Math.random()*i.length),h[c].nP=u(4,10),h[c].spacing=u(4,10);function l(a,e,t,n,o,i){for(var h=a*e,c=360/o,l=[],f=0;f<o;f++){var s=[];s[s.length]={x:t,y:n};var u=f*c+i,d=~~(t+a*Math.cos(u*r)),y=~~(n+a*Math.sin(u*r));s[s.length]={x:d,y:y,a:u};var g=f*c+c/2,x=~~(t+h*Math.cos(g*r)),v=~~(n+h*Math.sin(g*r));s[s.length]={x:x,y:v,a:g};var m=f*c+c-i,w=~~(t+a*Math.cos(m*r)),p=~~(n+a*Math.sin(m*r));s[s.length]={x:w,y:p,a:m},s[s.length]={x:t,y:n},l[f]=s}return l}function f(a,t,n,r){e.beginPath(),e.fillStyle=r,e.arc(t,n,10*a,0,2*Math.PI),e.fill()}function s(a){var t=function(a){for(var e=[],t=1;t<a.length-1;t++){var n=a[t-1].x-a[t+1].x,r=a[t-1].y-a[t+1].y,i=a[t].x-n*o,h=a[t].y-r*o,c={x:i,y:h},l=a[t].x+n*o,f=a[t].y+r*o,s={x:l,y:f};e[t]=[],e[t].push(c),e[t].push(s)}return e}(a);if(e.beginPath(),e.moveTo(a[0].x,a[0].y),e.quadraticCurveTo(t[1][1].x,t[1][1].y,a[1].x,a[1].y),a.length>2){for(var n=1;n<a.length-2;n++)e.bezierCurveTo(t[n][0].x,t[n][0].y,t[n+1][1].x,t[n+1][1].y,a[n+1].x,a[n+1].y);var r=a.length-1;e.quadraticCurveTo(t[r-1][0].x,t[r-1][0].y,a[r].x,a[r].y)}e.fill()}function u(a,e){return~~(Math.random()*(e-a+1)+a)}for(var d=0;d<h.length;d++){var y=h[d].R,g=(h[d].Ri,h[d].k),x=(h[d].ki,h[d].K,h[d].cx),v=h[d].cy,m=(i[h[d].fs],i[h[d].cs],l(y,g,x,v,h[d].nP,h[d].spacing));e.fillStyle=i[h[d].fs];for(var w=0;w<m.length;w++)s(m[w])}requestId=window.requestAnimationFrame(function a(){e.clearRect(0,0,t,n);for(var r=0;r<h.length;r++){h[r].k<h[r].K&&(h[r].R+=h[r].Ri,h[r].k+=h[r].ki);for(var o=h[r].R,c=(h[r].Ri,h[r].k),u=(h[r].ki,h[r].K,h[r].cx),d=h[r].cy,y=i[h[r].fs],g=i[h[r].cs],x=h[r].nP,v=h[r].spacing,w=0;w<m.length;w++)m=l(o,c,u,d,x,v),e.fillStyle=y,s(m[w]);f(c,u,d,g)}requestId=window.requestAnimationFrame(a)}),window.setTimeout(function(){requestId&&window.cancelAnimationFrame(requestId),console.log("cancelAnimationFrame")},6e3)});
